(function(){var e;e=["ui.bootstrap","ngLuminateUtils","luminateControllers"],angular.module("ngLuminateLibrary",e),angular.module("luminateControllers",[]),angular.module("ngLuminateLibrary").constant("APP_INFO",{version:"1.0.0",rootPath:"/"}),angular.module("ngLuminateLibrary").run(["$rootScope",function(e){var t;return t=jQuery("[data-luminate-root]"),e.frId=t.data("fr-id")&&!isNaN(t.data("fr-id"))?Number(t.data("fr-id")):null,e.nonSecure=luminateProperties.nonSecure,e.secure=luminateProperties.secure,e.path=luminateProperties.secure.replace("/site/","")}]),angular.element(document).ready(function(){var e;return e=["ngLuminateLibrary"],angular.bootstrap(document,e)}),angular.module("ngLuminateLibrary").config(["$luminateUtilsConfigProvider",function(e){e.setPath({nonsecure:luminateProperties.nonSecure,secure:luminateProperties.secure}).setKey(luminateProperties.apiKey)}]),angular.module("ngLuminateLibrary").factory("TeamraiserCompanyService",["$luminateRest",function(r){return{getCompanies:function(e){var t;return t="method=getCompaniesByInfo",e&&""!==e&&(t+="&"+e),r.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserEventService",["$luminateTemplateTag",function(r){return{getTeamRaiserData:function(e){var t;return t={teamraiser:{eventDate:"[[S42:"+e+":event-date]]",goal:"[[S42:"+e+":goal]]",dollars:"[[S42:"+e+":dollars]]",prevFrId:"[[S42:"+e+":prev-fr-id]]",prevEventDate:"[[E42:[[E42:"+e+":prev-fr-id]]:event-date]]",prevDollars:"[[E42:[[E42:"+e+":prev-fr-id]]:dollars]]",prevTeams:"[[E42:[[E42:"+e+":prev-fr-id]]:num-teams]]",prevParticipants:"[[E42:[[E42:"+e+":prev-fr-id]]:num-participants]]",ageMin:"[[S47:"+e+":fr_info:1:age_minimum]]"}},r.parse(JSON.stringify(t)).then(function(e){return JSON.parse(e)})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserParticipantService",["$rootScope","$filter","$luminateRest","$luminateUtilsConfig","$luminateTemplateTag",function(r,e,a,t,n){return{getParticipantData:function(e){var t;return t={participant:{selfDonor:"[[S48:"+r.frId+"-"+e+":if-is-self-donor]]",teamCaptain:"[[S48:"+r.frId+"-"+e+":if-is-captain]]",onTeam:"[[S48:"+r.frId+"-"+e+":if-on-team]]",prevParticipant:"[[E48:[[S42:"+r.frId+":prev-fr-id]]-"+e+":participant-id]]",prevDollars:"[[E42:[[E42:"+r.frId+":prev-fr-id]]:dollars]]",fbFundraiser:"[[?xxUser Provided No Responsexdeletedx::x[[S48:"+r.frId+"-"+e+":question:Facebook Fundraiser ID:]]x::::[[S48:"+r.frId+"-"+e+":question:Facebook Fundraiser ID:]]]]",sentEmail:"[[S48:"+r.frId+"-"+e+":if-emails-gt:0]]",updatedPage:"[[S48:"+r.frId+"-"+e+":if-page-updated]]"}},n.parse(JSON.stringify(t)).then(function(e){return JSON.parse(e)})},getParticipants:function(e){var t;return t="method=getParticipants",e&&""!==e&&(t+="&"+e),a.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserRegistrationService",["$luminateRest",function(r){return{getParticipationTypes:function(e){var t;return t="method=getParticipationTypes",e&&""!==e&&(t+="&"+e),r.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserTeamService",["$luminateRest",function(r){return{getTeams:function(e){var t;return t="method=getTeamsByInfo",e&&""!==e&&(t+="&"+e),r.request({api:"teamraiser",data:t,requiresAuth:!0})}}}]),angular.module("luminateControllers").controller("MainCtrl",["$scope",function(e){return e.ctrl={hide:!1,frId:1070,consId:1001491,teamId:1057,companyId:1013,amount:56500,goal:14e4}}]),angular.module("luminateControllers").directive("participationTypes",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/participationTypes.html",scope:{frId:"=?",layout:"@"},controller:["$rootScope","$scope","TeamraiserRegistrationService",function(e,t,r){var a;return a=t.frId?t.frId:e.frId,t.participationOptions={participationTypeId:null},t.participationTypes=[],r.getParticipationTypes("fr_id="+a).then(function(e){if(e.data.getParticipationTypesResponse)return t.participationTypes=e.data.getParticipationTypesResponse.participationType})}]}}]),angular.module("luminateControllers").directive("progressMeter",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/progressMeter.html",scope:{type:"@",showMeterPercent:"@",id:"=?",frId:"=?",progressData:"=?"},controller:["$rootScope","$scope","$filter","TeamraiserEventService","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyService",function(e,a,n,t,r,i,o){var s,p;return s=a.frId?a.frId:e.frId,a.meter={goal:0,dollars:0,percent:0,hideMeter:null},p=function(e,t){var r;return r=e/t*100,a.meter={dollars:n("currency")(e/100,"$").replace(".00",""),goal:n("currency")(t/100,"$").replace(".00",""),percent:String(Math.round(r))+"%",hideMeter:r<a.showMeterPercent||r===1/0||NaN===r||null}},a.progressData?(a.progressData.amount/a.progressData.goal<a.showMeterPercent||null,p(a.progressData.amount,a.progressData.goal)):("event"===a.type&&t.getTeamRaiserData(s).then(function(e){var t,r,a;if(e.teamraiser)return a=e.teamraiser,t=Number(a.dollars.replace(/[^\d.]/g,"")),r=Number(a.goal.replace(/[^\d.]/g,"")),p(100*t,100*r)}),"individual"===a.type&&r.getParticipants("&first_name="+encodeURIComponent("%%")+"&last_name="+encodeURIComponent("%")+"&list_page_size=1&fr_id="+s+"&list_filter_column=reg.cons_id&list_filter_text="+a.id).then(function(e){var t;if(e.data.getParticipantsResponse)return t=e.data.getParticipantsResponse.participant,p(Number(t.amountRaised),Number(t.goal))}),"team"===a.type&&i.getTeams("team_id="+a.id+"&fr_id="+s).then(function(e){var t;if(e.data.getTeamSearchByInfoResponse)return t=e.data.getTeamSearchByInfoResponse.team,p(Number(t.amountRaised),Number(t.goal))}),"company"===a.type?o.getCompanies("company_id="+a.id+"&fr_id="+s).then(function(e){var t;if(e.data.getCompaniesResponse)return t=e.data.getCompaniesResponse.company,p(t.amountRaised,t.goal)}):void 0)}]}}]),angular.module("luminateControllers").directive("topList",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/topList.html",scope:{type:"@",sizeLimit:"@",showBadges:"@",id:"=?",frId:"=?",listData:"=?"},controller:["$rootScope","$scope","$filter","TeamraiserEventService","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyService",function(e,t,r,a,n,i,o){var s;return t.eventId=t.frId?t.frId:e.frId,t.list={},s=t.sizeLimit?t.sizeLimit:500,t.listData?console.log(listData):("participants"===t.type&&n.getParticipants("&first_name="+encodeURIComponent("%%")+"&last_name="+encodeURIComponent("%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getParticipantsResponse)return t.list=e.data.getParticipantsResponse.participant}),"teams"===t.type&&i.getTeams("team_name="+encodeURIComponent("%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getTeamSearchByInfoResponse)return t.list=e.data.getTeamSearchByInfoResponse.team}),"companies"===t.type?o.getCompanies("company_name="+encodeURIComponent("%%%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getCompaniesResponse)return t.list=e.data.getCompaniesResponse.company}):void 0)}]}}])}).call(this);