(function(){var e;e=["ui.bootstrap","ngLuminateUtils","luminateControllers"],angular.module("ngLuminateLibrary",e),angular.module("luminateControllers",[]),angular.module("ngLuminateLibrary").constant("APP_INFO",{version:"1.0.0",rootPath:"/"}),angular.module("ngLuminateLibrary").run(["$rootScope",function(e){var t;return t=jQuery("[data-luminate-root]"),e.frId=t.data("fr-id")&&!isNaN(t.data("fr-id"))?Number(t.data("fr-id")):null}]),angular.element(document).ready(function(){var e;return e=["ngLuminateLibrary"],angular.bootstrap(document,e)}),angular.module("ngLuminateLibrary").config(["$luminateUtilsConfigProvider",function(e){e.setPath({nonsecure:luminateInstance.nonsecure,secure:luminateInstance.secure}).setKey(luminateInstance.apiKey)}]),angular.module("ngLuminateLibrary").factory("TeamraiserCompanyService",["$luminateRest",function(a){return{getCompanies:function(e){var t;return t="method=getCompaniesByInfo",e&&""!==e&&(t+="&"+e),a.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserEventService",["$luminateTemplateTag",function(a){return{getTeamRaiserData:function(e){var t;return t={teamraiser:{eventDate:"[[S42:"+e+":event-date]]",goal:"[[S42:"+e+":goal]]",dollars:"[[S42:"+e+":dollars]]",prevFrId:"[[S42:"+e+":prev-fr-id]]",prevEventDate:"[[E42:[[E42:"+e+":prev-fr-id]]:event-date]]",prevDollars:"[[E42:[[E42:"+e+":prev-fr-id]]:dollars]]",prevTeams:"[[E42:[[E42:"+e+":prev-fr-id]]:num-teams]]",prevParticipants:"[[E42:[[E42:"+e+":prev-fr-id]]:num-participants]]",ageMin:"[[S47:"+e+":fr_info:1:age_minimum]]"}},a.parse(JSON.stringify(t)).then(function(e){return JSON.parse(e)})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserParticipantService",["$rootScope","$filter","$luminateRest","$luminateUtilsConfig","$luminateTemplateTag",function(a,e,r,t,n){return{getParticipantData:function(e){var t;return t={participant:{selfDonor:"[[S48:"+a.frId+"-"+e+":if-is-self-donor]]",teamCaptain:"[[S48:"+a.frId+"-"+e+":if-is-captain]]",onTeam:"[[S48:"+a.frId+"-"+e+":if-on-team]]",prevParticipant:"[[E48:[[S42:"+a.frId+":prev-fr-id]]-"+e+":participant-id]]",prevDollars:"[[E42:[[E42:"+a.frId+":prev-fr-id]]:dollars]]",fbFundraiser:"[[?xxUser Provided No Responsexdeletedx::x[[S48:"+a.frId+"-"+e+":question:Facebook Fundraiser ID:]]x::::[[S48:"+a.frId+"-"+e+":question:Facebook Fundraiser ID:]]]]",sentEmail:"[[S48:"+a.frId+"-"+e+":if-emails-gt:0]]",updatedPage:"[[S48:"+a.frId+"-"+e+":if-page-updated]]"}},n.parse(JSON.stringify(t)).then(function(e){return JSON.parse(e)})},getParticipants:function(e){var t;return t="method=getParticipants",e&&""!==e&&(t+="&"+e),r.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserRegistrationService",["$luminateRest",function(a){return{getParticipationTypes:function(e){var t;return t="method=getParticipationTypes",e&&""!==e&&(t+="&"+e),a.request({api:"teamraiser",data:t})}}}]),angular.module("ngLuminateLibrary").factory("TeamraiserTeamService",["$luminateRest",function(a){return{getTeams:function(e){var t;return t="method=getTeamsByInfo",e&&""!==e&&(t+="&"+e),a.request({api:"teamraiser",data:t,requiresAuth:!0})}}}]),angular.module("luminateControllers").controller("MainCtrl",["$scope",function(e){return e.ctrl={hide:!1,frId:1070,consId:1001491,teamId:1057,companyId:1013,amount:56500,goal:14e4}}]),angular.module("luminateControllers").directive("participationTypes",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/participationTypes.html",scope:{frId:"=?",layout:"@"},controller:["$rootScope","$scope","TeamraiserRegistrationService",function(e,t,a){var r;return r=t.frId?t.frId:e.frId,t.participationOptions={participationTypeId:null},t.participationTypes=[],a.getParticipationTypes("fr_id="+r).then(function(e){if(e.data.getParticipationTypesResponse)return t.participationTypes=e.data.getParticipationTypesResponse.participationType})}]}}]),angular.module("luminateControllers").directive("progressMeter",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/progressMeter.html",scope:{type:"@",showMeterPercent:"@",id:"=?",frId:"=?",progressData:"=?"},controller:["$rootScope","$scope","$filter","TeamraiserEventService","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyService",function(e,r,n,t,a,i,o){var s,l;return s=r.frId?r.frId:e.frId,r.meter={goal:0,dollars:0,percent:0,hideMeter:null},l=function(e,t){var a;return a=e/t*100,r.meter={dollars:n("currency")(e/100,"$").replace(".00",""),goal:n("currency")(t/100,"$").replace(".00",""),percent:String(Math.round(a))+"%",hideMeter:a<r.showMeterPercent||a===1/0||NaN===a||null}},r.progressData?(r.progressData.amount/r.progressData.goal<r.showMeterPercent||null,l(r.progressData.amount,r.progressData.goal)):("event"===r.type&&t.getTeamRaiserData(s).then(function(e){var t,a,r;if(e.teamraiser)return r=e.teamraiser,t=Number(r.dollars.replace(/[^\d.]/g,"")),a=Number(r.goal.replace(/[^\d.]/g,"")),l(100*t,100*a)}),"individual"===r.type&&a.getParticipants("&first_name="+encodeURIComponent("%%")+"&last_name="+encodeURIComponent("%")+"&list_page_size=1&fr_id="+s+"&list_filter_column=reg.cons_id&list_filter_text="+r.id).then(function(e){var t;if(e.data.getParticipantsResponse)return t=e.data.getParticipantsResponse.participant,l(Number(t.amountRaised),Number(t.goal))}),"team"===r.type&&i.getTeams("team_id="+r.id+"&fr_id="+s).then(function(e){var t;if(e.data.getTeamSearchByInfoResponse)return t=e.data.getTeamSearchByInfoResponse.team,l(Number(t.amountRaised),Number(t.goal))}),"company"===r.type?o.getCompanies("company_id="+r.id+"&fr_id="+s).then(function(e){var t;if(e.data.getCompaniesResponse)return t=e.data.getCompaniesResponse.company,l(t.amountRaised,t.goal)}):void 0)}]}}]),angular.module("luminateControllers").directive("topList",["APP_INFO","$rootScope",function(e,t){return{templateUrl:e.rootPath+"dist/html/directive/topList.html",scope:{type:"@",sizeLimit:"@",showBadges:"@",id:"=?",frId:"=?",listData:"=?"},controller:["$rootScope","$scope","$filter","TeamraiserEventService","TeamraiserParticipantService","TeamraiserTeamService","TeamraiserCompanyService",function(e,t,a,r,n,i,o){var s;return t.eventId=t.frId?t.frId:e.frId,t.list={},s=t.sizeLimit?t.sizeLimit:500,t.listData?console.log(listData):("participants"===t.type&&n.getParticipants("&first_name="+encodeURIComponent("%%")+"&last_name="+encodeURIComponent("%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getParticipantsResponse)return t.list=e.data.getParticipantsResponse.participant}),"teams"===t.type&&i.getTeams("team_name="+encodeURIComponent("%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getTeamSearchByInfoResponse)return t.list=e.data.getTeamSearchByInfoResponse.team}),"companies"===t.type?o.getCompanies("company_name="+encodeURIComponent("%%%")+"&list_sort_column=total&list_ascending=false&list_page_size="+s+"&fr_id="+t.eventId).then(function(e){if(e.data.getCompaniesResponse)return t.list=e.data.getCompaniesResponse.company}):void 0)}]}}])}).call(this);